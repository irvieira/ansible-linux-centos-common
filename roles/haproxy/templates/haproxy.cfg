global
   log /dev/log local0 
   log /dev/log local1 debug 
   chroot /var/lib/haproxy
   stats socket *:1999 level admin
   stats socket /var/run/haproxy.sock mode 600 level admin
   server-state-file /etc/haproxy/haproxy.state
   maxconn 2000000
   user haproxy
   group haproxy
   daemon

defaults
   log global
   mode http
   maxconn 2000000
   load-server-state-from-file global
   option dontlognull
   timeout connect 5000
   timeout client 50000
   timeout server 50000

frontend fe_iis_gcs
   bind ap-gcs-iis.gtcs.local:8080
   mode tcp
   maxconn 2000000
   acl ip_24 src 10.24.0.0/16
   acl ip_25 src 10.25.0.0/16
   use_backend be24_iis_gcs if ip_24 
   use_backend be25_iis_gcs if ip_25
   default_backend be24_iis_gcs

frontend fe_app_gcs
   bind ap-gcs-app.gtcs.local:9080
   mode http 
   maxconn 2000000
   acl config_system url_beg -i /systemConfigurationService  
   acl config_logging url_beg -i /LoggingService
   acl config_diagnostics url_beg -i /DiagnosticsService
   acl config_security url_beg -i /securityservice
   acl config_printer url_beg -i /Printerservice
   acl config_email url_beg -i /Emailservice
   acl config_publisher url_beg -i /PublisherService
   acl config_fax url_beg -i /Faxservice
   acl config_dataprep url_beg -i /Dataprepservice
   acl config_opcclient url_beg -i /opcclientservice
   acl config_messaging url_beg -i /InstantMessaging
   acl config_workstation url_beg -i /WorkstationsMonitoringService
   acl config_arbritator url_beg -i /ArbitratorService
   acl hostname hdr(Host) -m dom -i ap-gcs-app.gtcs.local   
   acl ip_24 src 10.24.0.0/16
   acl ip_25 src 10.25.0.0/16
   acl ip_26 src 10.26.0.0/16   
   use_backend be24_app_gcs_system if ip_24 config_system  
   use_backend be25_app_gcs_system if ip_25 config_system
   use_backend be26_app_gcs_system if ip_26 config_system   
   use_backend be24_app_gcs_logging if ip_24 config_logging  
   use_backend be25_app_gcs_logging if ip_25 config_logging
   use_backend be26_app_gcs_logging if ip_26 config_logging   
   use_backend be24_app_gcs_diagnostics if ip_24 config_diagnostics 
   use_backend be25_app_gcs_diagnostics if ip_25 config_diagnostics 
   use_backend be26_app_gcs_diagnostics if ip_26 config_diagnostics 
   use_backend be24_app_gcs_security if ip_24 config_security   
   use_backend be25_app_gcs_security if ip_25 config_security
   use_backend be26_app_gcs_security if ip_26 config_security   
   use_backend be24_app_gcs_printer if ip_24 config_printer  
   use_backend be25_app_gcs_printer if ip_25 config_printer 
   use_backend be26_app_gcs_printer if ip_26 config_printer
   use_backend be24_app_gcs_email if ip_24 config_email 
   use_backend be25_app_gcs_email if ip_25 config_email  
   use_backend be26_app_gcs_email if ip_26 config_email
   use_backend be24_app_gcs_publisher if ip_24 config_publisher 
   use_backend be25_app_gcs_publisher if ip_25 config_publisher  
   use_backend be26_app_gcs_publisher if ip_26 config_publisher
   use_backend be24_app_gcs_fax if ip_24 config_fax  
   use_backend be25_app_gcs_fax if ip_25 config_fax  
   use_backend be26_app_gcs_fax if ip_26 config_fax
   use_backend be24_app_gcs_dataprep if ip_24 config_dataprep
   use_backend be25_app_gcs_dataprep if ip_25 config_dataprep 
   use_backend be26_app_gcs_dataprep if ip_26 config_dataprep
   use_backend be24_app_gcs_opcclient if ip_24 config_opcclient  
   use_backend be25_app_gcs_opcclient if ip_25 config_opcclient  
   use_backend be26_app_gcs_opcclient if ip_26 config_opcclient
   use_backend be24_app_gcs_messaging if ip_24 config_messaging 
   use_backend be25_app_gcs_messaging if ip_25 config_messaging  
   use_backend be26_app_gcs_messaging if ip_26 config_messaging
   use_backend be24_app_gcs_workstation if ip_24 config_workstation 
   use_backend be26_app_gcs_workstation if ip_26 config_workstation
   use_backend be25_app_gcs_workstation if ip_25 config_workstation 
   use_backend be24_app_gcs_arbritator if ip_24 config_arbritator 
   use_backend be25_app_gcs_arbritator if ip_25 config_arbritator  
   use_backend be26_app_gcs_arbritator if ip_26 config_arbritator

frontend fe_dci_mqtt
  mode tcp
  maxconn 2000000
  option tcplog
  timeout client 1m
  bind ap-dci-mqtt.gtcs.local:1883
  use_backend be26_dci_mqtt

frontend fe_hdr
   bind ap-ms-app.gtcs.local:5601
   mode http
   maxconn 2000000
   acl ip_24 src 10.24.0.0/16
   acl ip_25 src 10.25.0.0/16
   use_backend be24_hdr if ip_24 
   use_backend be25_hdr if ip_25
   default_backend be24_hdr

frontend fe_iis_fras
   bind ap-ms-iis.gtcs.local:8081
   mode http
   maxconn 2000000
   acl ip_24 src 10.24.0.0/16
   acl ip_25 src 10.25.0.0/16
   use_backend be24_iis_fras if ip_24 
   use_backend be25_iis_fras if ip_25
   default_backend be24_iis_fras

frontend fe_app_fras
   bind ap-ms-app.gtcs.local:9081
   mode http
   maxconn 2000000
   acl ip_24 src 10.24.0.0/16
   acl ip_25 src 10.25.0.0/16
   use_backend be24_app_fras if ip_24 
   use_backend be25_app_fras if ip_25
   default_backend be24_app_fras

frontend fe_iis_dda
   bind ap-ms-iis.gtcs.local:8082
   mode http
   maxconn 2000000
   acl ip_24 src 10.24.0.0/16
   acl ip_25 src 10.25.0.0/16
   use_backend be24_iis_dda if ip_24 
   use_backend be25_iis_dda if ip_25
   default_backend be24_iis_dda

frontend fe_app_dda
   bind ap-ms-app.gtcs.local:9082
   mode http
   maxconn 2000000
   acl ip_24 src 10.24.0.0/16
   acl ip_25 src 10.25.0.0/16
   use_backend be24_app_dda if ip_24 
   use_backend be25_app_dda if ip_25
   default_backend be24_app_dda

frontend fe_ofbiz
   bind ap-ms-mms.gtcs.local:8443
   mode tcp
   maxconn 2000000
   acl ip_24 src 10.24.0.0/16
   acl ip_25 src 10.25.0.0/16
   use_backend be24_ofbiz if ip_24 
   use_backend be25_ofbiz if ip_25
   default_backend be24_ofbiz

frontend fe_mss
   bind ap-mss.gtcs.local:27667
   mode tcp
   maxconn 2000000
   acl ip_24 src 10.24.0.0/16
   acl ip_25 src 10.25.0.0/16
   use_backend be24_mss if ip_24 
   use_backend be25_mss if ip_25
   default_backend be24_mss

frontend fe_cs_am
   bind ap-cs-am.gtcs.local:9888
   mode tcp
   maxconn 2000000
   acl ip_24 src 10.24.0.0/16
   acl ip_25 src 10.25.0.0/16
   use_backend be24_cs_am if ip_24 
   use_backend be25_cs_am if ip_25
   default_backend be24_cs_am   

backend be24_iis_gcs
   balance roundrobin 
   mode http 
   option forwardfor
   option httpchk GET /SystemParametersConfiguration.html
   server gt-iis-gcs-app1 gt-gcs-app1.gtcs.local:8080 check 
   server gt-iis-gcs-app2 gt-gcs-app2.gtcs.local:8080 check
   server br-iis-gcs-app1 br-gcs-app1.gtcs.local:8080 check backup
   server br-iis-gcs-app2 br-gcs-app2.gtcs.local:8080 check backup

backend be25_iis_gcs
   balance roundrobin
   mode http
   option forwardfor     
   option httpchk GET /SystemParametersConfiguration.html
   server br-iis-gcs-app1 br-gcs-app1.gtcs.local:8080 check
   server br-iis-gcs-app2 br-gcs-app2.gtcs.local:8080 check
   server gt-iis-gcs-app1 gt-gcs-app1.gtcs.local:8080 check backup
   server gt-iis-gcs-app2 gt-gcs-app2.gtcs.local:8080 check backup

backend be24_app_gcs_system
   balance roundrobin
   mode http
   option forwardfor
   #http-check expect status 200
   option httpchk GET /systemConfigurationService/metadata "HTTP/1.1\r\nHost: ap-gcs-app.gtcs.local"
   server gt-gcs-app1-system gt-gcs-app1.gtcs.local:9080 check inter 1s weight 1 
   server gt-gcs-app2-system gt-gcs-app2.gtcs.local:9080 check inter 1s weight 2 
   server br-gcs-app1-system br-gcs-app1.gtcs.local:9080 check backup inter 1s weight 3 
   server br-gcs-app2-system br-gcs-app2.gtcs.local:9080 check backup inter 1s weight 4 


backend be25_app_gcs_system
   balance roundrobin
   mode http
   option forwardfor 
   #http-check expect status 200
   option httpchk GET /systemConfigurationService/metadata "HTTP/1.1\r\nHost: ap-gcs-app.gtcs.local"  
   server br-gcs-app1-system br-gcs-app1.gtcs.local:9080 check inter 1s weight 1
   server br-gcs-app2-system br-gcs-app2.gtcs.local:9080 check inter 1s weight 2
   server gt-gcs-app1-system gt-gcs-app1.gtcs.local:9080 check backup inter 1s weight 3
   server gt-gcs-app2-system gt-gcs-app2.gtcs.local:9080 check backup inter 1s weight 4
   
backend be26_app_gcs_system
   balance roundrobin
   mode http
   option forwardfor
   #http-check expect status 200
   option httpchk GET /systemConfigurationService/metadata "HTTP/1.1\r\nHost: ap-gcs-app.gtcs.local"
   server gt-gcs-app1-system gt-gcs-app1.gtcs.local:9080 check inter 1s weight 1 
   server gt-gcs-app2-system gt-gcs-app2.gtcs.local:9080 check inter 1s weight 2 
   server br-gcs-app1-system br-gcs-app1.gtcs.local:9080 check backup inter 1s weight 3 
   server br-gcs-app2-system br-gcs-app2.gtcs.local:9080 check backup inter 1s weight 4   

backend be24_app_gcs_logging
   balance roundrobin
   mode http
   option forwardfor
   #http-check expect status 200
   option httpchk GET /LoggingService/metadata "HTTP/1.1\r\nHost: ap-gcs-app.gtcs.local"
   server gt-gcs-app1-logging gt-gcs-app1.gtcs.local:9080 check inter 1s weight 1
   server gt-gcs-app2-logging gt-gcs-app2.gtcs.local:9080 check inter 1s weight 2
   server br-gcs-app1-logging br-gcs-app1.gtcs.local:9080 check backup inter 1s weight 3
   server br-gcs-app2-logging br-gcs-app2.gtcs.local:9080 check backup inter 1s weight 4


backend be25_app_gcs_logging
   balance roundrobin
   mode http
   option forwardfor
   #http-check expect status 200
   option httpchk GET /LoggingService/metadata "HTTP/1.1\r\nHost: ap-gcs-app.gtcs.local"
   server br-gcs-app1-logging br-gcs-app1.gtcs.local:9080 check inter 1s weight 1
   server br-gcs-app2-logging br-gcs-app2.gtcs.local:9080 check inter 1s weight 2
   server gt-gcs-app1-logging gt-gcs-app1.gtcs.local:9080 check backup inter 1s weight 3
   server gt-gcs-app2-logging gt-gcs-app2.gtcs.local:9080 check backup inter 1s weight 4

backend be26_app_gcs_logging
   balance roundrobin
   mode http
   option forwardfor
   #http-check expect status 200
   option httpchk GET /LoggingService/metadata "HTTP/1.1\r\nHost: ap-gcs-app.gtcs.local"
   server gt-gcs-app1-logging gt-gcs-app1.gtcs.local:9080 check inter 1s weight 1
   server gt-gcs-app2-logging gt-gcs-app2.gtcs.local:9080 check inter 1s weight 2
   server br-gcs-app1-logging br-gcs-app1.gtcs.local:9080 check backup inter 1s weight 3
   server br-gcs-app2-logging br-gcs-app2.gtcs.local:9080 check backup inter 1s weight 4

backend be24_app_gcs_diagnostics
   balance roundrobin
   mode http
   option forwardfor
   #http-check expect status 200
   option httpchk GET /DiagnosticsService/metadata "HTTP/1.1\r\nHost: ap-gcs-app.gtcs.local"
   server gt-gcs-app1-diagnostics gt-gcs-app1.gtcs.local:9080 check inter 1s weight 1
   server gt-gcs-app2-diagnostics gt-gcs-app2.gtcs.local:9080 check inter 1s weight 2
   server br-gcs-app1-diagnostics br-gcs-app1.gtcs.local:9080 check backup inter 1s weight 3
   server br-gcs-app2-diagnostics br-gcs-app2.gtcs.local:9080 check backup inter 1s weight 4


backend be25_app_gcs_diagnostics
   balance roundrobin
   mode http
   option forwardfor
   #http-check expect status 200
   option httpchk GET /DiagnosticsService/metadata "HTTP/1.1\r\nHost: ap-gcs-app.gtcs.local"
   server br-gcs-app1-diagnostics br-gcs-app1.gtcs.local:9080 check inter 1s weight 1
   server br-gcs-app2-diagnostics br-gcs-app2.gtcs.local:9080 check inter 1s weight 2
   server gt-gcs-app1-diagnostics gt-gcs-app1.gtcs.local:9080 check backup inter 1s weight 3
   server gt-gcs-app2-diagnostics gt-gcs-app2.gtcs.local:9080 check backup inter 1s weight 4
   
backend be26_app_gcs_diagnostics
   balance roundrobin
   mode http
   option forwardfor
   #http-check expect status 200
   option httpchk GET /DiagnosticsService/metadata "HTTP/1.1\r\nHost: ap-gcs-app.gtcs.local"
   server gt-gcs-app1-diagnostics gt-gcs-app1.gtcs.local:9080 check inter 1s weight 1
   server gt-gcs-app2-diagnostics gt-gcs-app2.gtcs.local:9080 check inter 1s weight 2
   server br-gcs-app1-diagnostics br-gcs-app1.gtcs.local:9080 check backup inter 1s weight 3
   server br-gcs-app2-diagnostics br-gcs-app2.gtcs.local:9080 check backup inter 1s weight 4   

backend be24_app_gcs_security
   balance roundrobin
   mode http
   option forwardfor
   #http-check expect status 200
   option httpchk GET /securityservice/metadata "HTTP/1.1\r\nHost: ap-gcs-app.gtcs.local"
   server gt-gcs-app1-security gt-gcs-app1.gtcs.local:9080 check inter 1s weight 1
   server gt-gcs-app2-security gt-gcs-app2.gtcs.local:9080 check inter 1s weight 2
   server br-gcs-app1-security br-gcs-app1.gtcs.local:9080 check backup inter 1s weight 3
   server br-gcs-app2-security br-gcs-app2.gtcs.local:9080 check backup inter 1s weight 4


backend be25_app_gcs_security
   balance roundrobin
   mode http
   option forwardfor
   #http-check expect status 200
   option httpchk GET /securityservice/metadata "HTTP/1.1\r\nHost: ap-gcs-app.gtcs.local"
   server br-gcs-app1-security br-gcs-app1.gtcs.local:9080 check inter 1s weight 1
   server br-gcs-app2-security br-gcs-app2.gtcs.local:9080 check inter 1s weight 2
   server gt-gcs-app1-security gt-gcs-app1.gtcs.local:9080 check backup inter 1s weight 3
   server gt-gcs-app2-security gt-gcs-app2.gtcs.local:9080 check backup inter 1s weight 4
   
backend be26_app_gcs_security
   balance roundrobin
   mode http
   option forwardfor
   #http-check expect status 200
   option httpchk GET /securityservice/metadata "HTTP/1.1\r\nHost: ap-gcs-app.gtcs.local"
   server gt-gcs-app1-security gt-gcs-app1.gtcs.local:9080 check inter 1s weight 1
   server gt-gcs-app2-security gt-gcs-app2.gtcs.local:9080 check inter 1s weight 2
   server br-gcs-app1-security br-gcs-app1.gtcs.local:9080 check backup inter 1s weight 3
   server br-gcs-app2-security br-gcs-app2.gtcs.local:9080 check backup inter 1s weight 4   
   
backend be24_app_gcs_printer
   balance roundrobin
   mode http
   option forwardfor
   #http-check expect status 200
   option httpchk GET /Printerservice/metadata "HTTP/1.1\r\nHost: ap-gcs-app.gtcs.local"
   server gt-gcs-app1-printer gt-gcs-app1.gtcs.local:9080 check inter 1s weight 1
   server gt-gcs-app2-printer gt-gcs-app2.gtcs.local:9080 check inter 1s weight 2
   server br-gcs-app1-printer br-gcs-app1.gtcs.local:9080 check backup inter 1s weight 3
   server br-gcs-app2-printer br-gcs-app2.gtcs.local:9080 check backup inter 1s weight 4


backend be25_app_gcs_printer
   balance roundrobin
   mode http
   option forwardfor
   #http-check expect status 200
   option httpchk GET /Printerservice/metadata "HTTP/1.1\r\nHost: ap-gcs-app.gtcs.local"
   server br-gcs-app1-printer br-gcs-app1.gtcs.local:9080 check inter 1s weight 1
   server br-gcs-app2-printer br-gcs-app2.gtcs.local:9080 check inter 1s weight 2
   server gt-gcs-app1-printer gt-gcs-app1.gtcs.local:9080 check backup inter 1s weight 3
   server gt-gcs-app2-printer gt-gcs-app2.gtcs.local:9080 check backup inter 1s weight 4

backend be26_app_gcs_printer
   balance roundrobin
   mode http
   option forwardfor
   #http-check expect status 200
   option httpchk GET /Printerservice/metadata "HTTP/1.1\r\nHost: ap-gcs-app.gtcs.local"
   server gt-gcs-app1-printer gt-gcs-app1.gtcs.local:9080 check inter 1s weight 1
   server gt-gcs-app2-printer gt-gcs-app2.gtcs.local:9080 check inter 1s weight 2
   server br-gcs-app1-printer br-gcs-app1.gtcs.local:9080 check backup inter 1s weight 3
   server br-gcs-app2-printer br-gcs-app2.gtcs.local:9080 check backup inter 1s weight 4   
   
backend be24_app_gcs_email
   balance roundrobin
   mode http
   option forwardfor
   #http-check expect status 200
   option httpchk GET /Emailservice/metadata "HTTP/1.1\r\nHost: ap-gcs-app.gtcs.local"
   server gt-gcs-app1-email gt-gcs-app1.gtcs.local:9080 check inter 1s weight 1
   server gt-gcs-app2-email gt-gcs-app2.gtcs.local:9080 check inter 1s weight 2
   server br-gcs-app1-email br-gcs-app1.gtcs.local:9080 check backup inter 1s weight 3
   server br-gcs-app2-email br-gcs-app2.gtcs.local:9080 check backup inter 1s weight 4


backend be25_app_gcs_email
   balance roundrobin
   mode http
   option forwardfor
   #http-check expect status 200
   option httpchk GET /Emailservice/metadata "HTTP/1.1\r\nHost: ap-gcs-app.gtcs.local"
   server br-gcs-app1-email br-gcs-app1.gtcs.local:9080 check inter 1s weight 1
   server br-gcs-app2-email br-gcs-app2.gtcs.local:9080 check inter 1s weight 2
   server gt-gcs-app1-email gt-gcs-app1.gtcs.local:9080 check backup inter 1s weight 3
   server gt-gcs-app2-email gt-gcs-app2.gtcs.local:9080 check backup inter 1s weight 4

backend be26_app_gcs_email
   balance roundrobin
   mode http
   option forwardfor
   #http-check expect status 200
   option httpchk GET /Emailservice/metadata "HTTP/1.1\r\nHost: ap-gcs-app.gtcs.local"
   server gt-gcs-app1-email gt-gcs-app1.gtcs.local:9080 check inter 1s weight 1
   server gt-gcs-app2-email gt-gcs-app2.gtcs.local:9080 check inter 1s weight 2
   server br-gcs-app1-email br-gcs-app1.gtcs.local:9080 check backup inter 1s weight 3
   server br-gcs-app2-email br-gcs-app2.gtcs.local:9080 check backup inter 1s weight 4   

backend be24_app_gcs_publisher
   balance roundrobin
   mode http
   option forwardfor
   #http-check expect status 200
   option httpchk GET /PublisherService/metadata "HTTP/1.1\r\nHost: ap-gcs-app.gtcs.local"
   server gt-gcs-app1-publisher gt-gcs-app1.gtcs.local:9080 check inter 1s weight 1
   server gt-gcs-app2-publisher gt-gcs-app2.gtcs.local:9080 check inter 1s weight 2
   server br-gcs-app1-publisher br-gcs-app1.gtcs.local:9080 check backup inter 1s weight 3
   server br-gcs-app2-publisher br-gcs-app2.gtcs.local:9080 check backup inter 1s weight 4


backend be25_app_gcs_publisher
   balance roundrobin
   mode http
   option forwardfor
   #http-check expect status 200
   option httpchk GET /PublisherService/metadata "HTTP/1.1\r\nHost: ap-gcs-app.gtcs.local"
   server br-gcs-app1-publisher br-gcs-app1.gtcs.local:9080 check inter 1s weight 1
   server br-gcs-app2-publisher br-gcs-app2.gtcs.local:9080 check inter 1s weight 2
   server gt-gcs-app1-publisher gt-gcs-app1.gtcs.local:9080 check backup inter 1s weight 3
   server gt-gcs-app2-publisher gt-gcs-app2.gtcs.local:9080 check backup inter 1s weight 4

backend be26_app_gcs_publisher
   balance roundrobin
   mode http
   option forwardfor
   #http-check expect status 200
   option httpchk GET /PublisherService/metadata "HTTP/1.1\r\nHost: ap-gcs-app.gtcs.local"
   server gt-gcs-app1-publisher gt-gcs-app1.gtcs.local:9080 check inter 1s weight 1
   server gt-gcs-app2-publisher gt-gcs-app2.gtcs.local:9080 check inter 1s weight 2
   server br-gcs-app1-publisher br-gcs-app1.gtcs.local:9080 check backup inter 1s weight 3
   server br-gcs-app2-publisher br-gcs-app2.gtcs.local:9080 check backup inter 1s weight 4

backend be24_app_gcs_fax
   balance roundrobin
   mode http
   option forwardfor
   #http-check expect status 200
   option httpchk GET /Faxservice/metadata "HTTP/1.1\r\nHost: ap-gcs-app.gtcs.local"
   server gt-gcs-app1-fax gt-gcs-app1.gtcs.local:9080 check inter 1s weight 1
   server gt-gcs-app2-fax gt-gcs-app2.gtcs.local:9080 check inter 1s weight 2
   server br-gcs-app1-fax br-gcs-app1.gtcs.local:9080 check backup inter 1s weight 3
   server br-gcs-app2-fax br-gcs-app2.gtcs.local:9080 check backup inter 1s weight 4


backend be25_app_gcs_fax
   balance roundrobin
   mode http
   option forwardfor
   #http-check expect status 200
   option httpchk GET /Faxservice/metadata "HTTP/1.1\r\nHost: ap-gcs-app.gtcs.local"
   server br-gcs-app1-fax br-gcs-app1.gtcs.local:9080 check inter 1s weight 1
   server br-gcs-app2-fax br-gcs-app2.gtcs.local:9080 check inter 1s weight 2
   server gt-gcs-app1-fax gt-gcs-app1.gtcs.local:9080 check backup inter 1s weight 3
   server gt-gcs-app2-fax gt-gcs-app2.gtcs.local:9080 check backup inter 1s weight 4
   
backend be26_app_gcs_fax
   balance roundrobin
   mode http
   option forwardfor
   #http-check expect status 200
   option httpchk GET /Faxservice/metadata "HTTP/1.1\r\nHost: ap-gcs-app.gtcs.local"
   server gt-gcs-app1-fax gt-gcs-app1.gtcs.local:9080 check inter 1s weight 1
   server gt-gcs-app2-fax gt-gcs-app2.gtcs.local:9080 check inter 1s weight 2
   server br-gcs-app1-fax br-gcs-app1.gtcs.local:9080 check backup inter 1s weight 3
   server br-gcs-app2-fax br-gcs-app2.gtcs.local:9080 check backup inter 1s weight 4   

backend be24_app_gcs_dataprep
   balance roundrobin
   mode http
   option forwardfor
   #http-check expect status 200
   option httpchk GET /Dataprepservice/metadata "HTTP/1.1\r\nHost: ap-gcs-app.gtcs.local"
   server gt-gcs-app1-dataprep gt-gcs-app1.gtcs.local:9080 check inter 1s weight 1
   server gt-gcs-app2-dataprep gt-gcs-app2.gtcs.local:9080 check inter 1s weight 2
   server br-gcs-app1-dataprep br-gcs-app1.gtcs.local:9080 check backup inter 1s weight 3
   server br-gcs-app2-dataprep br-gcs-app2.gtcs.local:9080 check backup inter 1s weight 4


backend be25_app_gcs_dataprep
   balance roundrobin
   mode http
   option forwardfor
   #http-check expect status 200
   option httpchk GET /Dataprepservice/metadata "HTTP/1.1\r\nHost: ap-gcs-app.gtcs.local"
   server br-gcs-app1-dataprep br-gcs-app1.gtcs.local:9080 check inter 1s weight 1
   server br-gcs-app2-dataprep br-gcs-app2.gtcs.local:9080 check inter 1s weight 2
   server gt-gcs-app1-dataprep gt-gcs-app1.gtcs.local:9080 check backup inter 1s weight 3
   server gt-gcs-app2-dataprep gt-gcs-app2.gtcs.local:9080 check backup inter 1s weight 4

backend be26_app_gcs_dataprep
   balance roundrobin
   mode http
   option forwardfor
   #http-check expect status 200
   option httpchk GET /Dataprepservice/metadata "HTTP/1.1\r\nHost: ap-gcs-app.gtcs.local"
   server gt-gcs-app1-dataprep gt-gcs-app1.gtcs.local:9080 check inter 1s weight 1
   server gt-gcs-app2-dataprep gt-gcs-app2.gtcs.local:9080 check inter 1s weight 2
   server br-gcs-app1-dataprep br-gcs-app1.gtcs.local:9080 check backup inter 1s weight 3
   server br-gcs-app2-dataprep br-gcs-app2.gtcs.local:9080 check backup inter 1s weight 4   
   
backend be24_app_gcs_opcclient
   balance roundrobin
   mode http
   option forwardfor
   #http-check expect status 200
   option httpchk GET /opcclientservice/metadata "HTTP/1.1\r\nHost: ap-gcs-app.gtcs.local"
   server gt-gcs-app1-opcclient gt-gcs-app1.gtcs.local:9080 check inter 1s weight 1
   server gt-gcs-app2-opcclient gt-gcs-app2.gtcs.local:9080 check inter 1s weight 2
   server br-gcs-app1-opcclient br-gcs-app1.gtcs.local:9080 check backup inter 1s weight 3
   server br-gcs-app2-opcclient br-gcs-app2.gtcs.local:9080 check backup inter 1s weight 4


backend be25_app_gcs_opcclient
   balance roundrobin
   mode http
   option forwardfor
   #http-check expect status 200
   option httpchk GET /opcclientservice/metadata "HTTP/1.1\r\nHost: ap-gcs-app.gtcs.local"
   server br-gcs-app1-opcclient br-gcs-app1.gtcs.local:9080 check inter 1s weight 1
   server br-gcs-app2-opcclient br-gcs-app2.gtcs.local:9080 check inter 1s weight 2
   server gt-gcs-app1-opcclient gt-gcs-app1.gtcs.local:9080 check backup inter 1s weight 3
   server gt-gcs-app2-opcclient gt-gcs-app2.gtcs.local:9080 check backup inter 1s weight 4

backend be26_app_gcs_opcclient
   balance roundrobin
   mode http
   option forwardfor
   #http-check expect status 200
   option httpchk GET /opcclientservice/metadata "HTTP/1.1\r\nHost: ap-gcs-app.gtcs.local"
   server gt-gcs-app1-opcclient gt-gcs-app1.gtcs.local:9080 check inter 1s weight 1
   server gt-gcs-app2-opcclient gt-gcs-app2.gtcs.local:9080 check inter 1s weight 2
   server br-gcs-app1-opcclient br-gcs-app1.gtcs.local:9080 check backup inter 1s weight 3
   server br-gcs-app2-opcclient br-gcs-app2.gtcs.local:9080 check backup inter 1s weight 4

backend be24_app_gcs_messaging
   balance roundrobin
   mode http
   option forwardfor
   #http-check expect status 200
   option httpchk GET /InstantMessaging/metadata "HTTP/1.1\r\nHost: ap-gcs-app.gtcs.local"
   server gt-gcs-app1-messaging gt-gcs-app1.gtcs.local:9080 check inter 1s weight 1
   server gt-gcs-app2-messaging gt-gcs-app2.gtcs.local:9080 check inter 1s weight 2
   server br-gcs-app1-messaging br-gcs-app1.gtcs.local:9080 check backup inter 1s weight 3
   server br-gcs-app2-messaging br-gcs-app2.gtcs.local:9080 check backup inter 1s weight 4


backend be25_app_gcs_messaging
   balance roundrobin
   mode http
   option forwardfor
   #http-check expect status 200
   option httpchk GET /InstantMessaging/metadata "HTTP/1.1\r\nHost: ap-gcs-app.gtcs.local"
   server br-gcs-app1-messaging br-gcs-app1.gtcs.local:9080 check inter 1s weight 1
   server br-gcs-app2-messaging br-gcs-app2.gtcs.local:9080 check inter 1s weight 2
   server gt-gcs-app1-messaging gt-gcs-app1.gtcs.local:9080 check backup inter 1s weight 3
   server gt-gcs-app2-messaging gt-gcs-app2.gtcs.local:9080 check backup inter 1s weight 4

backend be26_app_gcs_messaging
   balance roundrobin
   mode http
   option forwardfor
   #http-check expect status 200
   option httpchk GET /InstantMessaging/metadata "HTTP/1.1\r\nHost: ap-gcs-app.gtcs.local"
   server gt-gcs-app1-messaging gt-gcs-app1.gtcs.local:9080 check inter 1s weight 1
   server gt-gcs-app2-messaging gt-gcs-app2.gtcs.local:9080 check inter 1s weight 2
   server br-gcs-app1-messaging br-gcs-app1.gtcs.local:9080 check backup inter 1s weight 3
   server br-gcs-app2-messaging br-gcs-app2.gtcs.local:9080 check backup inter 1s weight 4

backend be24_app_gcs_workstation
   balance roundrobin
   mode http
   option forwardfor
   option httpchk GET /WorkstationsMonitoringService/metadata "HTTP/1.1\r\nHost: ap-gcs-app.gtcs.local" 
   server gt-gcs-app1-workstation gt-gcs-app1.gtcs.local:9080 check inter 1s weight 1
   server gt-gcs-app2-workstation gt-gcs-app2.gtcs.local:9080 check inter 1s weight 2
   server br-gcs-app1-workstation br-gcs-app1.gtcs.local:9080 check backup inter 1s weight 3
   server br-gcs-app2-workstation br-gcs-app2.gtcs.local:9080 check backup inter 1s weight 4

backend be25_app_gcs_workstation
   balance roundrobin
   mode http
   option forwardfor
   option httpchk GET /WorkstationsMonitoringService/metadata "HTTP/1.1\r\nHost: ap-gcs-app.gtcs.local" 
   server br-gcs-app1-workstation br-gcs-app1.gtcs.local:9080 check inter 1s weight 1
   server br-gcs-app2-workstation br-gcs-app2.gtcs.local:9080 check inter 1s weight 2
   server gt-gcs-app1-workstation gt-gcs-app1.gtcs.local:9080 check backup inter 1s weight 3
   server gt-gcs-app2-workstation gt-gcs-app2.gtcs.local:9080 check backup inter 1s weight 4

backend be26_app_gcs_workstation
   balance roundrobin
   mode http
   option forwardfor
   option httpchk GET /WorkstationsMonitoringService/metadata "HTTP/1.1\r\nHost: ap-gcs-app.gtcs.local" 
   server gt-gcs-app1-workstation gt-gcs-app1.gtcs.local:9080 check inter 1s weight 1
   server gt-gcs-app2-workstation gt-gcs-app2.gtcs.local:9080 check inter 1s weight 2
   server br-gcs-app1-workstation br-gcs-app1.gtcs.local:9080 check backup inter 1s weight 3
   server br-gcs-app2-workstation br-gcs-app2.gtcs.local:9080 check backup inter 1s weight 4

backend be24_app_gcs_arbritator
   balance roundrobin
   mode http
   option forwardfor
   #http-check expect status 200
   option httpchk GET /ArbitratorService/metadata "HTTP/1.1\r\nHost: ap-gcs-app.gtcs.local"
   server gt-gcs-app1-arbritator gt-gcs-app1.gtcs.local:9080 check inter 1s weight 1
   server gt-gcs-app2-arbritator gt-gcs-app2.gtcs.local:9080 check inter 1s weight 2
   server br-gcs-app1-arbritator br-gcs-app1.gtcs.local:9080 check backup inter 1s weight 3
   server br-gcs-app2-arbritator br-gcs-app2.gtcs.local:9080 check backup inter 1s weight 4


backend be25_app_gcs_arbritator
   balance roundrobin
   mode http
   option forwardfor
   #http-check expect status 200
   option httpchk GET /ArbitratorService/metadata "HTTP/1.1\r\nHost: ap-gcs-app.gtcs.local"
   server br-gcs-app1-arbritator br-gcs-app1.gtcs.local:9080 check inter 1s weight 1
   server br-gcs-app2-arbritator br-gcs-app2.gtcs.local:9080 check inter 1s weight 2
   server gt-gcs-app1-arbritator gt-gcs-app1.gtcs.local:9080 check backup inter 1s weight 4
   server gt-gcs-app2-arbritator gt-gcs-app2.gtcs.local:9080 check backup inter 1s weight 4

backend be26_app_gcs_arbritator
   balance roundrobin
   mode http
   option forwardfor
   #http-check expect status 200
   option httpchk GET /ArbitratorService/metadata "HTTP/1.1\r\nHost: ap-gcs-app.gtcs.local"
   server gt-gcs-app1-arbritator gt-gcs-app1.gtcs.local:9080 check inter 1s weight 1
   server gt-gcs-app2-arbritator gt-gcs-app2.gtcs.local:9080 check inter 1s weight 2
   server br-gcs-app1-arbritator br-gcs-app1.gtcs.local:9080 check backup inter 1s weight 3
   server br-gcs-app2-arbritator br-gcs-app2.gtcs.local:9080 check backup inter 1s weight 4
   
backend be26_dci_mqtt
   mode tcp
   balance roundrobin
   option clitcpka
   option log-health-checks
   option redispatch
   timeout connect 10s
   timeout client 3h
   timeout server 3h
   option tcplog
   server gt-dci-mqtt1 gt-dci-mqtt1.gtcs.local:1883 check port 1883 fall 1
   server gt-dci-mqtt2 gt-dci-mqtt2.gtcs.local:1883 check port 1883 fall 1
   #server br-dci-mqtt1 br-dci-mqtt1.gtcs.local:1883 check backup port 1883 fall 1
   #server br-dci-mqtt2 br-dci-mqtt2.gtcs.local:1883 check backup port 1883 fall 1
 

backend be24_hdr
   mode http
   option forwardfor
   option httpchk GET /api/status
   server gt-hdr-01 gt-ms-app1.gtcs.local:5601 check
   server gt-hdr-02 gt-ms-app2.gtcs.local:5601 check
   server br-hdr-01 br-ms-app1.gtcs.local:5601 check backup
   server br-hdr-02 br-ms-app2.gtcs.local:5601 check backup

backend be25_hdr
   mode http
   option forwardfor
   option httpchk GET /api/status
   server br-hdr-01 br-ms-app1.gtcs.local:5601 check
   server br-hdr-02 br-ms-app2.gtcs.local:5601 check
   server gt-hdr-01 gt-ms-app1.gtcs.local:5601 check backup
   server gt-hdr-02 gt-ms-app2.gtcs.local:5601 check backup

backend be24_iis_fras
   mode http
   option forwardfor
   option httpchk GET /FRAS/RuleTemplate?id= 
   server gt-iis-fras-01 gt-ms-app1.gtcs.local:8081 check 
   server gt-iis-fras-02 gt-ms-app2.gtcs.local:8081 check  
   server br-iis-fras-01 br-ms-app1.gtcs.local:8081 check backup
   server br-iis-fras-02 br-ms-app2.gtcs.local:8081 check backup
   
backend be24_app_fras
   mode http
   option forwardfor
   option httpchk GET /RootCauseAnalysisService 
   http-check expect status 400
   server gt-fras-01 gt-ms-app1.gtcs.local:9081 check 
   server gt-fras-02 gt-ms-app2.gtcs.local:9081 check 
   server br-fras-01 br-ms-app1.gtcs.local:9081 check backup
   server br-fras-02 br-ms-app2.gtcs.local:9081 check backup  
       

backend be25_iis_fras
   mode http
   option forwardfor
   option httpchk GET /FRAS/RuleTemplate?id=  
   server br-iis-fras-01 br-ms-app1.gtcs.local:8081 check
   server br-iis-fras-02 br-ms-app2.gtcs.local:8081 check
   server gt-iis-fras-01 gt-ms-app1.gtcs.local:8081 check backup
   server gt-iis-fras-02 gt-ms-app2.gtcs.local:8081 check backup   


backend be25_app_fras
   mode http
   option forwardfor
   option httpchk GET /RootCauseAnalysisService
   http-check expect status 400
   server br-fras-01 br-ms-app1.gtcs.local:9081 check
   server br-fras-02 br-ms-app2.gtcs.local:9081 check
   server gt-fras-01 gt-ms-app1.gtcs.local:9081 check backup
   server gt-fras-02 gt-ms-app2.gtcs.local:9081 check backup  

backend be24_iis_dda
   mode http
   option forwardfor
   option httpchk GET /DDA/Equipment HTTP/1.1 
   http-check expect status 400 
   server gt-iis-dda-01 gt-ms-app1.gtcs.local:8082 check
   server gt-iis-dda-02 gt-ms-app2.gtcs.local:8082 check
   server br-iis-dda-01 br-ms-app1.gtcs.local:8082 check backup
   server br-iis-dda-02 br-ms-app2.gtcs.local:8082 check backup

backend be25_iis_dda
   mode http
   option forwardfor
   option httpchk GET /DDA/Equipment HTTP/1.1
   http-check expect status 400 
   server br-iis-dda-01 br-ms-app1.gtcs.local:8082 check 
   server br-iis-dda-02 br-ms-app2.gtcs.local:8082 check 
   server gt-iis-dda-01 gt-ms-app1.gtcs.local:8082 check backup
   server gt-iis-dda-02 gt-ms-app2.gtcs.local:8082 check backup
   

backend be24_app_dda
   mode http
   option forwardfor
   option httpchk GET /ManagerService
   http-check expect status 400 
   server gt-dda-01 gt-ms-app1.gtcs.local:9082 check
   server gt-dda-02 gt-ms-app2.gtcs.local:9082 check
   server br-dda-01 br-ms-app1.gtcs.local:9082 check backup
   server br-dda-02 br-ms-app2.gtcs.local:9082 check backup

backend be25_app_dda
   mode http
   option forwardfor
   option httpchk GET /ManagerService 
   http-check expect status 400
   server br-dda-01 br-ms-app1.gtcs.local:9082 check 
   server br-dda-02 br-ms-app2.gtcs.local:9082 check 
   server gt-dda-01 gt-ms-app1.gtcs.local:9082 check backup
   server gt-dda-02 gt-ms-app2.gtcs.local:9082 check backup

backend be24_ofbiz
   mode tcp
   option ssl-hello-chk
   balance roundrobin
   stick-table type ip size 200k expire 30m
   stick on src
   default-server inter 5s
   server gt-ofbiz-01 gt-ms-mms1.gtcs.local:8443 check id 1
   server gt-ofbiz-02 gt-ms-mms2.gtcs.local:8443 check id 2
   server br-ofbiz-01 br-ms-mms1.gtcs.local:8443 check id 3 backup
   server br-ofbiz-02 br-ms-mms2.gtcs.local:8443 check id 4 backup

backend be25_ofbiz
   mode tcp
   option ssl-hello-chk
   balance roundrobin
   stick-table type ip size 200k expire 30m
   stick on src
   default-server inter 1s
   server br-ofbiz-01 br-ms-mms1.gtcs.local:8443 check id 1
   server br-ofbiz-02 br-ms-mms2.gtcs.local:8443 check id 2
   server gt-ofbiz-01 gt-ms-mms1.gtcs.local:8443 check id 3 backup
   server gt-ofbiz-02 gt-ms-mms2.gtcs.local:8443 check id 4 backup  

backend be24_mss
   mode tcp 
   balance source
   option forwardfor
   option httpchk GET /Alstom.Mimic.Framework.Security.Web.AlsSecurityService.svc
   server gt-mss-01 gt-mss-01.gtcs.local:27667 check 
   server gt-mss-02 gt-mss-02.gtcs.local:27667 check
   server br-mss-01 br-mss-01.gtcs.local:27667 check backup
   server br-mss-02 br-mss-02.gtcs.local:27667 check backup

backend be25_mss
   mode tcp 
   balance source
   option forwardfor
   option httpchk GET /Alstom.Mimic.Framework.Security.Web.AlsSecurityService.svc
   server br-mss-01 br-mss-01.gtcs.local:27667 check
   server br-mss-02 br-mss-02.gtcs.local:27667 check
   server gt-mss-01 gt-mss-01.gtcs.local:27667 check backup
   server gt-mss-02 gt-mss-02.gtcs.local:27667 check backup

backend be24_cs_am
   mode tcp 
   balance source
   option forwardfor
   option httpchk GET /index.html
   server gt-cs-am1 gt-cs-am1.gtcs.local:9888 check
   server gt-cs-am2 gt-cs-am2.gtcs.local:9888 check 
   server br-cs-am1 br-cs-am1.gtcs.local:9888 check backup
   server br-cs-am2 br-cs-am2.gtcs.local:9888 check backup

backend be25_cs_am
   mode tcp 
   balance source
   option forwardfor
   option httpchk GET /index.html
   server br-cs-am1 br-cs-am1.gtcs.local:9888 check
   server br-cs-am2 br-cs-am2.gtcs.local:9888 check
   server gt-cs-am1 gt-cs-am1.gtcs.local:9888 check backup
   server gt-cs-am2 gt-cs-am2.gtcs.local:9888 check backup

listen stats
   bind 10.26.141.110:1936
   stats enable
   stats admin if TRUE
   stats uri /stats
   stats hide-version
   stats auth admin:Alstom1050
